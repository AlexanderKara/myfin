<html lang="pt">

<head>
    <meta charset="UTF-8"/>
    <title>My Fin</title>

    <!-- Compiled and minified CSS -->
    <!-- <link rel="stylesheet" href="./css/materialize.min.css" /> -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
    <link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" href="./js/external/css-loader/dist/css-loader.css">

    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="./js/external/monthpicker/monthpicker.css">
    <link href="https://unpkg.com/tabulator-tables@4.5.3/dist/css/tabulator.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/css/select2.min.css" rel="stylesheet"/>


    <!-- <link href="./js/external/Select2/select2.css" rel="stylesheet" />
    <link href="./css/select2-materialize.css" type="text/css" rel="stylesheet" />
    <link href="./js/external/jquery-datepicker/jquery-datepicker.css" rel="stylesheet">
    <link href="./js/external/fullcalendar/fullcalendar.min.css" rel="stylesheet">
    <link href="./js/external/monthpicker/monthpicker.css" rel="stylesheet"> -->
    <!-- <link href="./js/external/fullcalendar/materialDesign.css" rel="stylesheet"> -->
    <!-- <link href="./js/external/fullcalendar/fullcalendar.print.min.css" rel="stylesheet"> -->
    <link rel="stylesheet" href="./css/main.css"/>
    <link rel="stylesheet" href="./css/dashboard.css"/>
    <link rel="stylesheet" href="./css/budgets.css"/>
    <link rel="stylesheet" href="./css/progressbar.css"/>
    <link rel="stylesheet" href="./css/themes/dark_gray_theme.css"/>
    <!--<link rel="stylesheet" href="./css/themes/light_theme.css"/>-->
</head>

<body onLoad="checkPreAuth(); checkPreAuthWithInterval(); TopNav.setupTopNavSummaryAmounts()"
      class="fill-height">
<header>
    <nav class="top-nav">
        <div class="nav-wrapper row">
            <!--<div class="col s2 card-panel">
                <input id="dashboard-monthpicker" type="text" placeholder="Escolha um mês"/>
            </div>-->
            <div class="col s6">
                <div class="row top-summary-wrapper">
                    <div class="col top-summary-col"><span class="top-summary-label">Fundo de Maneio:</span><br><span
                            class="top-summary-key" id="top-summary-col-current-savings-value">0€</span></div>
                    <div class="col top-summary-col"><span class="top-summary-label">Investimento:</span><br><span
                            class="top-summary-key" id="top-summary-col-investments-value">0€</span></div>
                    <div class="col top-summary-col"><span class="top-summary-label">Passivo:</span><br><span
                            class="top-summary-key" id="top-summary-col-credits-value">0€</span></div>
                    <div class="col top-summary-col"><span class="top-summary-label">Património:</span><br><span
                            class="top-summary-key" id="top-summary-col-patrimony-value">0€</span></div>
                </div>
            </div>
            <div class="col s6">
                <ul class="right hide-on-med-and-down">
                    <li><a href="#!profile"
                           onClick="configs.goToPage('profile');MenuUtils.changeActiveMenu('profile')"><i
                            class="large material-icons">account_circle</i></a>
                    </li>
                    <li><a onClick="resetSession()" href="#"><i
                            class="large material-icons">exit_to_app</i></a></li>
                </ul>
            </div>

        </div>
    </nav>
    <nav class="side-nav fixed">
        <div id="side-nav-logo-wrapper">
            <img id="side-nav-logo-img" src="../img/logo/logo_white_font_transparent_bg.png"
                 onmouseover="onMouseOverLogo(this)"
                 onmouseout="onMouseOutLogo(this)"/>
        </div>
        <ul class="side-nav-menu">
            <li><a id="menu-item-dashboard"
                   onClick="configs.goToPage('dashboard');MenuUtils.changeActiveMenu('dashboard')"
                   class="menu-item" href="#!dashboard"><i class="material-icons left">view_module</i>Dashboard</a>
            </li>
            <li><a id="menu-item-transactions" class="menu-item"
                   onClick="configs.goToPage('transactions');MenuUtils.changeActiveMenu('transactions')"
                   href="#!transactions"><i class="material-icons left">dvr</i>Transações</a></li>
            <li><a id="menu-item-accounts" class="menu-item"
                   onClick="configs.goToPage('accounts');MenuUtils.changeActiveMenu('accounts')"
                   href="#!accounts"><i class="material-icons left">account_balance</i>Contas</a></li>
            <li><a id="menu-item-categories" class="menu-item"
                   onClick="configs.goToPage('categories');MenuUtils.changeActiveMenu('categories')"
                   href="#!categories"><i class="material-icons left">folder_shared</i>Categorias</a></li>
            <li><a id="menu-item-entities" class="menu-item"
                   onClick="configs.goToPage('entities');MenuUtils.changeActiveMenu('entities')"
                   href="#!entities"><i class="material-icons left">business</i>Entidades</a></li>
            <li><a id="menu-item-rules" class="menu-item"
                   onClick="configs.goToPage('rules');MenuUtils.changeActiveMenu('rules')"
                   href="#!rules"><i class="material-icons left">lightbulb_outline</i>Regras</a></li>
            <li><a id="menu-item-budgets" class="menu-item"
                   onClick="configs.goToPage('budgets');MenuUtils.changeActiveMenu('budgets')" href="#!budgets"><i
                    class="material-icons left">class</i>Orçamentos</a></li>
            <li><a id="menu-item-investments" class="menu-item" onClick="configs.goToPage('investments');MenuUtils.changeActiveMenu('investments')" href="#!investments"><i
                    class="material-icons left">equalizer</i>Investimentos</a></li>
            <li><a id="menu-item-stats" class="menu-item"
                   onClick="configs.goToPage('stats');MenuUtils.changeActiveMenu('stats')" href="#!stats"><i
                    class="material-icons left">folder_shared</i>Estatísticas</a></li>
        </ul>
    </nav>
</header>
<main>
    <!-- Loader -->
    <div class="loader loader-default"></div>
    <div id="main-loading-wrapper" style="display: none;" class="progress main-progress-bar">
        <div class="indeterminate"></div>
    </div>
    <div class="fill-height" id="main-content"></div>
</main>
<footer class="page-footer transparent">
    <!--
    <div class="fixed-action-btn">
      <a href="mailto:antoniofaneca@enso-origins.com" class="btn tooltipped btn-floating btn-large red pulse"
        data-position="left" data-tooltip="Reportar Bug">
        <i class="large material-icons">bug_report</i>
      </a>
    </div>
  -->
    <div class="footer-copyright transparent">
        <div class="container center-align transparent">
            <span class="black-text">©</span>
            <span class="black-text" id="current-year">2020</span>
            <span class="black-text">António Faneca</span>
        </div>
    </div>
</footer>

<div id="modal-global" class="modal">
    <div class="modal-content"></div>
    <div class="modal-footer"></div>
</div>

<!-- Compiled and minified JavaScript -->
<script src="./js/external/js.cookie.js" type="text/javascript"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-trendline"></script>
<script src="./js/external/monthpicker/monthpicker.js"></script>
<script type="text/javascript" src="https://unpkg.com/tabulator-tables@4.5.3/dist/js/tabulator.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/js/select2.min.js"></script>
<script src="js/external/momentjs/moment-with-locales.js"></script>
<script src="js/external/momentjs/moment-timezone.js"></script>

<script src="./js/ensoshared_js_lib/ensoshared.js" type="text/javascript"></script>
<script src="./js/consts.js"></script>
<script src="./js/configs.js" type="text/javascript"></script>
<script src="./js/topNav.js" type="text/javascript"></script>

<script src="js/utils/localDataManager.js"></script>
<script src="./js/utils/validationUtils.js"></script>
<script src="./js/utils/dialogUtils.js"></script>
<script src="./js/utils/menuUtils.js"></script>
<script src="./js/utils/pickerUtils.js"></script>
<script src="./js/utils/tableUtils.js"></script>
<script src="./js/utils/arrayUtils.js"></script>
<script src="./js/utils/chartUtils.js"></script>
<script src="./js/utils/stringUtils.js"></script>
<script src="./js/utils/loadingManager.js"></script>
<script src="./js/utils/dateUtils.js"></script>
<script src="./js/utils/progressbarUtils.js"></script>
<script src="./js/utils/layoutUtils.js"></script>

<script src="./js/components/graphEmptyView.js"></script>

<script src="./js/services/categoryServices.js"></script>
<script src="./js/services/ruleServices.js"></script>
<script src="./js/services/budgetServices.js"></script>
<script src="./js/services/entityServices.js"></script>
<script src="./js/services/accountServices.js"></script>
<script src="./js/services/transactionServices.js"></script>
<script src="./js/services/importTransactionsServices.js"></script>
<script src="./js/services/statServices.js"></script>
<script src="./js/services/userServices.js"></script>
<script src="./js/services/investServices.js"></script>

<script src="./js/login.js" type="text/javascript"></script>
<script src="./js/accounts.js" type="text/javascript"></script>
<script src="./js/categories.js"></script>
<script src="./js/rules.js"></script>
<script src="./js/budgetDetails.js"></script>
<script src="./js/importTransactions.js"></script>
<script src="./js/budgets.js"></script>
<script src="./js/entities.js"></script>
<script src="./js/transactions.js"></script>
<script src="./js/stats.js"></script>
<script src="./js/dashboard.js"></script>
<script src="./js/profile.js"></script>
<script src="./js/investments.js"></script>

<script>
  $(document)
    .ready(function () {
      configs.loadFirstView('dashboard');
      $('.sidenav')
        .sidenav();
      $('.dropdown-trigger')
        .dropdown();
      LayoutUtils.changeTheme(LayoutUtils.getCurrentThemeName());

      // custom logo for light theme
      if(LocalDataManager.getCurrentTheme() === MYFIN.APP_THEMES.LIGHT){
        $("#side-nav-logo-img").attr("src", "../img/logo/logo_transparent_bg_v2.png")
      }
    });

  function onMouseOverLogo(element) {
    if (LocalDataManager.getCurrentTheme() === MYFIN.APP_THEMES.LIGHT) return;

    element.src = '../img/logo/logo_transparent_bg_v2.png';
  }

  function onMouseOutLogo(element) {
    if (LocalDataManager.getCurrentTheme() === MYFIN.APP_THEMES.LIGHT){
      return;
    }
    element.src = '../img/logo/logo_white_font_transparent_bg.png';
  }
</script>
</body>

</html>
